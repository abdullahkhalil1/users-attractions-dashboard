<div class="px-4 pt-8 pb-4 flex flex-col h-full">
    <div class="flex items-center mb-4 text-brandPrimary">
        <mat-icon class="mr-2">place</mat-icon>
        <span class="text-lg font-medium">Update Location</span>
    </div>
    <form [formGroup]="updateAttractionForm" class="flex flex-col h-full justify-between" (ngSubmit)="onSubmit()">
        <div class="flex flex-col gap-3">
            <mat-form-field appearance="fill" class="w-full">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name">
                <mat-error *ngIf="updateAttractionForm.get('name')?.hasError('required')">
                    Name is required
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="w-full">
                <mat-label>Detail</mat-label>
                <textarea matInput formControlName="detail"></textarea>
                <mat-error *ngIf="updateAttractionForm.get('detail')?.hasError('required')">
                    Detail is required
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="w-full">
                <mat-label>Cover Image URL</mat-label>
                <input matInput formControlName="coverimage" [value]="trimmedCoverImage">
                <mat-error *ngIf="updateAttractionForm.get('coverimage')?.hasError('required')">
                    Cover Image URL is required
                </mat-error>
            </mat-form-field>

            <input type="file" (change)="onFileChange($event)">
            <mat-error *ngIf="imageSizeError">{{ imageSizeError }}</mat-error>

            <div *ngIf="selectedImage">
                <img [src]="selectedImage" alt="Selected Image" style="max-width: 100%; height: auto;">
            </div>

            <mat-form-field appearance="fill" class="w-full">
                <mat-label>Latitude</mat-label>
                <input matInput formControlName="latitude" type="number">
                <mat-error *ngIf="updateAttractionForm.get('latitude')?.hasError('required')">
                    Latitude is required
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="w-full">
                <mat-label>Longitude</mat-label>
                <input matInput formControlName="longitude" type="number">
                <mat-error *ngIf="updateAttractionForm.get('longitude')?.hasError('required')">
                    Longitude is required
                </mat-error>
            </mat-form-field>
        </div>

        <div class="flex w-full items-center gap-3 mt-4">
            <button class="w-full" mat-button type="button" (click)="onCancel()">Cancel</button>
            <button class="w-full" mat-raised-button color="primary" type="submit">Update</button>
        </div>
    </form>
</div>